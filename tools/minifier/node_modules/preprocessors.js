module.exports.less = function(inSrc) {
  try {
    var less = require("less"),
      parser = new less.Parser(),
      code;

    parser.parse(inSrc, function(err, tree) {
      if (err) {
        throw new Error(err);
      }
      code = tree.toCSS();
    });
    return code;
  } catch (e) {
    if (e.code === "MODULE_NOT_FOUND") {
      throw new Error("Please install the less module to use less (npm install less)");
    } else {
      throw e;
    }
  }
};

module.exports.coffee = function(inSrc, compilerModule) {
  try {
    var coffee = require(compilerModule || "coffee-script");
    return coffee.compile(inSrc);
  } catch (e) {
    if (e.code == "MODULE_NOT_FOUND") {
      throw new Error("Please install the coffee-script module to use CoffeeScript (npm install coffee-script)");
    } else {
      throw e;     
    }
  }

};
